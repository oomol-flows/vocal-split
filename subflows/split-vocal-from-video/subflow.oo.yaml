nodes:
  - task: self::split-by-vocal
    title: "%split-by-vocal-12%"
    node_id: split-by-vocal#1
    inputs_from:
      - handle: input
        from_node:
          - node_id: extract-audio#1
            output_handle: audio_file
      - handle: outputDir
        value: /oomol-driver/oomol-storage/vocal-split
        from_flow:
          - input_handle: output_dir
      - handle: outputBaseName
        value: ""
        from_flow:
          - input_handle: outputBaseName
        from_node:
          []
    description: "%outputdir%"
  - node_id: extract-audio#1
    title: "%extract-audio-from-video-1%"
    inputs_from:
      - handle: video_file
        from_flow:
          - input_handle: video_source
      - handle: output_format
        value: mp3
      - handle: audio_quality
        value: 192
    task: ffmpeg::extract-audio
title: "%split-vocal-from-video2%"
inputs_def:
  - handle: video_source
    description: "%input-video-file-to-extract-and-separate-vocals-from%"
    json_schema:
      type: string
      ui:widget: file
    kind: primitive
    nullable: false
  - handle: output_dir
    description: "%output-directory-to-save-the-separated-audio-files%"
    json_schema:
      type: string
      ui:widget: save
    kind: primitive
    nullable: false
  - handle: outputBaseName
    description: "%output-base-name-custom-name-for-output-files-optional%"
    json_schema:
      type: string
    value:
    nullable: true
    executor_name: python
outputs_def:
  - handle: vocals
    description: "Output: separated vocals track file"
    json_schema:
      type: string
      ui:widget: file
    kind: primitive
    nullable: false
  - handle: no_vocals
    description: "Output: separated instrumental track file (no vocals)"
    json_schema:
      type: string
      ui:widget: file
    kind: primitive
    nullable: false
outputs_from:
  - handle: no_vocals
    from_node:
      - node_id: split-by-vocal#1
        output_handle: no_vocals
  - handle: vocals
    from_node:
      - node_id: split-by-vocal#1
        output_handle: vocals
description: "%video_source-audio_save_address-output_dir%"
