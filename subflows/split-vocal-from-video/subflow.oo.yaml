nodes:
  - task: self::split-by-vocal
    title: "%split-by-vocal-12%"
    node_id: split-by-vocal#1
    inputs_from:
      - handle: output_dir
        value:
        from_flow:
          - input_handle: output_dir
      - handle: output_base_name
        value:
        from_flow:
          - input_handle: output_base_name
      - handle: audio_file
        from_node:
          - node_id: extract-audio#1
            output_handle: audio_file
    description: "%outputdir%"
  - node_id: extract-audio#1
    title: "%extract-audio-from-video-1%"
    inputs_from:
      - handle: video_file
        from_flow:
          - input_handle: video_source
      - handle: output_format
        value: mp3
      - handle: audio_quality
        value: 192
    task: ffmpeg::extract-audio
title: "%split-vocal-from-video2%"
inputs_def:
  - handle: video_source
    description: "%input-video-file-to-extract-and-separate-vocals-from%"
    json_schema:
      type: string
      ui:widget: file
    kind: primitive
    nullable: false
  - handle: output_dir
    json_schema:
      type: string
      ui:widget: dir
    nullable: true
    executor_name: python
  - handle: output_base_name
    json_schema:
      type: string
    nullable: true
    value:
    executor_name: python
outputs_def:
  - handle: vocals
    description: "Output: separated vocals track file"
    json_schema:
      type: string
      ui:widget: file
    kind: primitive
    nullable: false
  - handle: no_vocals
    description: "Output: separated instrumental track file (no vocals)"
    json_schema:
      type: string
      ui:widget: file
    kind: primitive
    nullable: false
outputs_from:
  - handle: no_vocals
    from_node:
      - node_id: split-by-vocal#1
        output_handle: no_vocals
  - handle: vocals
    from_node:
      - node_id: split-by-vocal#1
        output_handle: vocals
description: "%video_source-audio_save_address-output_dir%"
icon: ":twemoji:microphone:"
